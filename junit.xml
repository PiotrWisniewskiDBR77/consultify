<?xml version="1.0" encoding="UTF-8" ?>
<testsuites name="vitest tests" tests="26" failures="0" errors="0" time="0.093607375">
    <testsuite name="tests/unit/backend/aiService.test.js" timestamp="2025-12-11T10:08:27.801Z" hostname="Air-Piotr.lan" tests="26" failures="0" errors="0" skipped="0" time="0.093607375">
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; callLLM &gt; should fallback to Gemini (default) when no provider configured" time="0.064549958">
            <system-out>
[Database] Using SQLite Adapter
Using MOCKED DB (No connection)

            </system-out>
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; callLLM &gt; should use OpenAI when provider is configured" time="0.001141875">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; callLLM &gt; should handle OpenAI error gracefully" time="0.012319666">
            <system-err>
LLM Call Error Error: OpenAI error: Server Error
    at Object.callLLM [90m(/Users/piotrwisniewski/Documents/Antygracity/DRD/consultify/[39mserver/services/aiService.js:190:45[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at [90m/Users/piotrwisniewski/Documents/Antygracity/DRD/consultify/[39mtests/unit/backend/aiService.test.js:161:13
    at [90mfile:///Users/piotrwisniewski/Documents/Antygracity/DRD/consultify/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:915:20

            </system-err>
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; callLLM &gt; should use Anthropic when provider is configured" time="0.000955917">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; callLLM &gt; should use Ollama when provider is configured" time="0.000627667">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; callLLM &gt; should use DeepSeek provider" time="0.000542958">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; Provider Coverage &gt; should use deepseek provider correctly" time="0.00056075">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; Provider Coverage &gt; should use qwen provider correctly" time="0.000480584">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; Provider Coverage &gt; should use mistral provider correctly" time="0.000465">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; Provider Coverage &gt; should use anthropic provider correctly" time="0.000544958">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; Provider Coverage &gt; should use groq provider correctly" time="0.000447833">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; Provider Coverage &gt; should use together provider correctly" time="0.00044175">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; Provider Coverage &gt; should use nvidia_nim provider correctly" time="0.000458959">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; Provider Coverage &gt; should use zhipu provider correctly" time="0.000459959">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; Provider Coverage &gt; should use cohere provider correctly" time="0.000484333">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; Diagnosis Logic &gt; deepDiagnose should run chain of thought and save analytics" time="0.000754542">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; Helper Methods &gt; simulateEconomics should delegate to FinancialService and call LLM" time="0.000700083">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; Helper Methods &gt; verifyWithWeb should delegate to WebSearchService" time="0.000502417">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; Helper Methods &gt; enrichInitiative should use WebSearchService" time="0.000425459">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; Helper Methods &gt; extractInsights should parse JSON and save to KnowledgeService" time="0.000671959">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; Helper Methods &gt; suggestTasks should parse JSON list tasks" time="0.001063875">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; streamLLM &gt; should yield chunks for Gemini fallback" time="0.000955292">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; enhancePrompt &gt; should append strategies and context if available" time="0.000631958">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; Deep Reasoning Layers &gt; generateInitiatives should parse JSON response" time="0.000629125">
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; Deep Reasoning Layers &gt; buildRoadmap should return empty object on error" time="0.000927833">
            <system-err>
LLM Call Error Error: Fail
    at [90m/Users/piotrwisniewski/Documents/Antygracity/DRD/consultify/[39mtests/unit/backend/aiService.test.js:473:59
    at [90mfile:///Users/piotrwisniewski/Documents/Antygracity/DRD/consultify/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:145:11
    at [90mfile:///Users/piotrwisniewski/Documents/Antygracity/DRD/consultify/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:915:26
    at [90mfile:///Users/piotrwisniewski/Documents/Antygracity/DRD/consultify/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1240:20
    at new Promise (&lt;anonymous&gt;)
    at runWithTimeout [90m(file:///Users/piotrwisniewski/Documents/Antygracity/DRD/consultify/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1206:10[90m)[39m
    at [90mfile:///Users/piotrwisniewski/Documents/Antygracity/DRD/consultify/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1650:37
    at Traces.$ [90m(file:///Users/piotrwisniewski/Documents/Antygracity/DRD/consultify/[39mnode_modules/[4mvitest[24m/dist/chunks/traces.U4xDYhzZ.js:115:27[90m)[39m
    at trace [90m(file:///Users/piotrwisniewski/Documents/Antygracity/DRD/consultify/[39mnode_modules/[4mvitest[24m/dist/chunks/test.BT8LKgU9.js:239:21[90m)[39m
    at runTest [90m(file:///Users/piotrwisniewski/Documents/Antygracity/DRD/consultify/[39mnode_modules/[4m@vitest/runner[24m/dist/index.js:1650:12[90m)[39m

            </system-err>
        </testcase>
        <testcase classname="tests/unit/backend/aiService.test.js" name="AiService Tests &gt; testProviderConnection &gt; should return success for OpenAI" time="0.000797709">
        </testcase>
    </testsuite>
</testsuites>
